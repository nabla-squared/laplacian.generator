entities:
  - name: value_domain_type
    namespace: laplacian.metamodel
    properties:
      - name: name
        type: string

      - name: type
        type: string
        domain_type_name: base_type

      - name: description
        type: string
        optional: true
        default_value: |
          name

    relationships:
      - name: domain
        cardinality: '1'
        reference_entity_name: value_domain
        aggregate: true

  - name: value_domain
    namespace: laplacian.metamodel
    value_object: true
    properties:
      - name: pattern
        description: 許容される値のパターン(正規表現)
        type: string
        optional: true

    relationships:
      - name: choices
        description: 許容される値のリスト
        cardinality: "*"
        reference_entity_name: value_item
        aggregate: true

  - name: value_item
    namespace: laplacian.metamodel
    value_object: true
    properties:
      - name: value
        type: string

      - name: label
        type: string
        optional: true
        default_value: |
          value

      - name: description
        type: string
        optional: true
        default_value: |
          "label (=$value)"
